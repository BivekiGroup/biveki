## Roadmap (next steps)

### Текущее состояние
- Личный кабинет: единый лейаут с сайдбаром (`dashboard`, `profile`, `projects`).
- Админка: лейаут с сайдбаром, разделы `Пользователи` и `Заявки`.
- Проекты: GraphQL `Project`, `myProjects`, `createProject`; страница `/projects` (листинг + создание).

### Backend (GraphQL + Prisma)
1. Добавить Project CRUD
   - **Запросы**: `project(id: ID!): Project`
   - **Мутации**: `updateProject(id:ID!, name:String, description:String)`, `deleteProject(id:ID!)`
   - Авторизация: доступ только владельцу либо админу
2. Расширить модель Project
   - Поля: `status` (enum: draft|active|archived), `updatedAt`, `slug` (unique), опционально `budget` (int)
   - Индексы: `(user_id, created_at)`, `slug`
3. Участники проекта (v2)
   - Таблица `project_members` (projectId, userId, role: owner|editor|viewer)
   - Мутации: `addProjectMember`, `removeProjectMember`, `updateProjectMemberRole`
4. Логирование источников заявок (опционально)
   - В `Contact` добавить `source` для быстрых каналов (телефон/почта/мессенджер)

### Frontend (App Router)
5. Проект: страница детали `/projects/[id]`
   - Вкладки: Обзор, Участники (v2), Активность (future)
   - Действия: редактирование, удаление
6. Проекты: улучшения листинга
   - Пагинация, сортировка, пустые состояния, поисковый фильтр
7. Формы
   - Form state + валидация (Zod) на клиенте, ошибки с сервера

### Admin
8. Раздел проектов (обзор всех)
   - Таблица проектов с владельцем, статусом, созданием
   - Действия админа: архивировать, менять владельца

### Security / DX
9. Политики доступа
   - Гарантировать, что проект виден только владельцу и членам
   - Ограничить admin мутации только для админов
10. Rate limiting + аудит
   - Лимиты на создание проектов/заявок, базовый аудит действий

### Миграции (ручной запуск)
- Генерация клиента: `npx prisma generate`
- Применение: `npx prisma migrate dev --name project_crud`

### Тесты
11. Юнит‑тесты резолверов (Project, Contact)
12. E2E для критичных флоу (логин, создание/редактирование проекта)

### UI/UX полировка
13. Визуал
   - Иконки в деталях проекта, состояния кнопок, Skeletons для загрузки
14. Пустые состояния и ошибки
   - Консистентные баннеры успеха/ошибок, ретраи

### Документация
15. Обновить `README` и `schema.graphql` (актуальные операции)
16. Добавить разделы в docs: `projects.md` (домены/ролей/флоу)

### Приоритет исполнения (рекомендуемый)
1) Backend CRUD + миграция → 2) Деталь проекта `/projects/[id]` → 3) Пагинация/фильтры → 4) Admin проекты → 5) Тесты → 6) UI/UX.


